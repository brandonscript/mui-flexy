{"version":3,"file":"Flex.js","sources":["../src/Flex.tsx"],"sourcesContent":["import type { Grid2Props } from \"@mui/material\";\nimport MuiBox from \"@mui/material/Box\";\nimport MuiGrid from \"@mui/material/Grid\";\nimport type { OverridableComponent } from \"@mui/material/OverridableComponent\";\nimport { Theme as MaterialTheme } from \"@mui/material/styles\";\nimport type { BoxProps } from \"@mui/system/Box\";\nimport { Theme as SystemTheme } from \"@mui/system/createTheme\";\nimport type { GridProps } from \"@mui/system/Grid\";\nimport { createElement, forwardRef } from \"react\";\n\nimport type {\n  FlexBoxProps,\n  FlexBoxTypeMap,\n  FlexGrid2Props,\n  FlexGridProps,\n  FlexGridTypeMap,\n  FlexOrientation,\n} from \"./Flex.types\";\nimport { mapFlexProps } from \"./Flex.utils\";\n\nconst muiPkg = await import(\"@mui/material/package.json\");\nconst muiVersion = parseInt(muiPkg?.version?.split(\".\")[0], 10);\n\nconst MuiGrid2 = await import(\"@mui/material\").then(m => {\n  if (muiVersion > 5) {\n    // @ts-ignore\n    return m?.Grid2;\n  }\n  // @ts-ignore\n  return m?.Unstable_Grid2;\n});\n\ntype Grid2Size_v6 = number | false | \"auto\" | \"grow\";\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype _Any = any;\n\nconst createFlexBox = <\n  Orientation extends FlexOrientation | undefined = undefined,\n  RootComponent extends React.ElementType = \"div\",\n  AdditionalProps = {},\n  Theme extends object = SystemTheme & MaterialTheme\n>() =>\n  forwardRef<BoxProps[\"ref\"], FlexBoxProps<Orientation, RootComponent, AdditionalProps>>(\n    (props, ref) => createElement(MuiBox as React.FC, mapFlexProps(props, ref, \"Box\"))\n  ) as OverridableComponent<FlexBoxTypeMap<Orientation, AdditionalProps, RootComponent, Theme>>;\n\nexport { FlexBoxProps };\nexport const FlexBox = createFlexBox();\n\nconst createFlexGrid = <\n  Orientation extends FlexOrientation | undefined = undefined,\n  RootComponent extends React.ElementType = \"div\",\n  AdditionalProps = {}\n>() =>\n  forwardRef<GridProps[\"ref\"], FlexGridProps<Orientation, RootComponent, AdditionalProps>>(\n    (props, ref) => createElement(MuiGrid as React.FC, mapFlexProps(props, ref, \"Grid\"))\n  ) as OverridableComponent<FlexGridTypeMap<Orientation, AdditionalProps, RootComponent>>;\n\nexport { FlexGridProps };\nexport const FlexGrid = createFlexGrid();\n\nconst createFlexGrid2_v6 = <\n  Orientation extends FlexOrientation | undefined = undefined,\n  RootComponent extends React.ElementType = \"div\",\n  AdditionalProps = {}\n>() =>\n  forwardRef<Grid2Props[\"ref\"], FlexGrid2Props<Orientation, RootComponent, AdditionalProps>>(\n    (props, ref) => {\n      const { xs, sm, md, lg, xl, size, ...rest } = props as _Any;\n      const sizeValues = [xs, sm, md, lg, xl].filter(\n        value => value !== null && value !== undefined\n      );\n      const sizeProps: Grid2Size_v6 =\n        size ??\n        (sizeValues.every(value => value === sizeValues[0])\n          ? sizeValues[0]\n          : { xs, sm, md, lg, xl });\n      props = { ...rest, size: sizeProps };\n      return createElement(MuiGrid2 as React.FC, mapFlexProps(props, ref, \"Grid2\"));\n    }\n  ) as OverridableComponent<FlexGridTypeMap<Orientation, AdditionalProps, RootComponent>>;\n\nconst createFlexGrid2_v5 = <\n  Orientation extends FlexOrientation | undefined = undefined,\n  RootComponent extends React.ElementType = \"div\",\n  AdditionalProps = {}\n>() =>\n  forwardRef<Grid2Props[\"ref\"], FlexGrid2Props<Orientation, RootComponent, AdditionalProps>>(\n    (props, ref) => {\n      const { size, ...rest } = props as _Any;\n      const xs = typeof size === \"number\" || typeof size === \"string\" ? size : size?.xs;\n      const { xs: _xs, sm, md, lg, xl } = size || {};\n      props = {\n        ...rest,\n        xs: xs || _xs,\n        sm,\n        md,\n        lg,\n        xl,\n        ref,\n      };\n      return createElement(MuiGrid2, mapFlexProps(props, ref, \"Grid2\"));\n    }\n  ) as OverridableComponent<FlexGridTypeMap<Orientation, AdditionalProps, RootComponent>>;\n\nexport { FlexGrid2Props };\nexport const FlexGrid2 = muiVersion > 5 ? createFlexGrid2_v6() : createFlexGrid2_v5();\n"],"names":["muiPkg","muiVersion","parseInt","version","split","MuiGrid2","then","m","Grid2","Unstable_Grid2","createFlexBox","forwardRef","props","ref","createElement","MuiBox","mapFlexProps","FlexBox","createFlexGrid","MuiGrid","FlexGrid","createFlexGrid2_v6","xs","sm","md","lg","xl","size","rest","sizeValues","filter","value","undefined","sizeProps","every","createFlexGrid2_v5","_xs","FlexGrid2"],"mappings":"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"}